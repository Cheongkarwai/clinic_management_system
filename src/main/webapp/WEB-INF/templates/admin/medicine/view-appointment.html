<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
<link rel="stylesheet" th:href="@{/static/css/admin-shared.css}" />
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
	rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
</head>
<body>
	<div class="container-fluid h-100">
		<div class="row h-100">
			<aside class="col-md-2 h-100"
				th:insert="fragments/sideMenu.html :: sideMenu"></aside>
			<main class="col-md-10 px-5">
				<h1 class="py-5">Dispensing Medicine</h1>
				<div>
					<table class="table border" id="medicine-table">
						<tr>
							<th class="text-center">No</th>
							<th>Patient ID</th>
							<th>Patient Name</th>
							<th>SSN</th>
							<th>From</th>
							<th>To</th>
							<th>Doctor</th>
							<th>Medicine</th>
						</tr>
						<tr th:each="appointment,itr : ${appointmentsThatHaveNoOrder}">
							<td class="text-center" th:text="${itr.count}"></td>
							<td th:text="${appointment.patient.id}"></td>
							<td th:text="${appointment.patient.name}"></td>
							<td th:text="${appointment.patient.SSN}"></td>
							<td th:text="${appointment.appointmentStartDateTime}"></td>
							<td th:text="${appointment.appointmentEndDateTime}"></td>
							<td
								th:text="|${appointment.doctor.name}-${appointment.doctor.specialization} |"></td>
							<td>
								<form method="GET"
									th:action="@{/medicines/patient/{patientId}/appointment/{appointmentId}(patientId=${appointment.patient.id},
					appointmentId=${appointment.id})}">
									<input type="submit" class="btn" value="Dispense Medicine" />
								</form>
							</td>
						</tr>
					</table>
				</div>
			</main>
		</div>
	</div>
</body>
</html>
